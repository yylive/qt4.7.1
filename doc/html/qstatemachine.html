<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qstatemachine.cpp -->
  <title>Qt 4.7: QStateMachine Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://doc.qt.nokia.com">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global Declarations</a></li> 
			   <li><a href="licensing.html">Licenses and Credits</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global Declarations</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
			   <li class="defaultLink"><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li class="defaultLink"><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li class="defaultLink"><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li class="defaultLink"><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li class="defaultLink"><a href="best-practices.html">How-To's and Best Practices</a></li> 
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="modules.html">Modules</a></li>              <li><a href="qtcore.html">QtCore</a></li>
              <li>QStateMachine</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
        </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#protected-functions">Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QStateMachine Class Reference</h1>
<!-- $$$QStateMachine-brief -->
<p>The QStateMachine class provides a hierarchical finite state machine. <a href="#details">More...</a></p>
<!-- @@@QStateMachine -->
<pre class="highlightedCode brush: cpp"> #include &lt;QStateMachine&gt;</pre><p>Inherits <a href="qstate.html">QState</a>.</p>
<p><b>Note:</b> All functions in this class are <a href="threads-reentrancy.html#reentrant">reentrant</a>, but <a href="qstatemachine.html#postEvent">postEvent</a>(), <a href="qstatemachine.html#postDelayedEvent">postDelayedEvent</a>(), and <a href="qstatemachine.html#cancelDelayedEvent">cancelDelayedEvent</a>() are also <a href="threads-reentrancy.html#thread-safe">thread-safe</a>.</p>
<p>This class was introduced in Qt 4.6.</p>
<ul>
<li><a href="qstatemachine-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> class </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine-signalevent.html">SignalEvent</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> class </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine-wrappedevent.html">WrappedEvent</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#Error-enum">Error</a></b> { NoError, NoInitialStateError, NoDefaultStateInHistoryStateError, NoCommonAncestorForTransitionError }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#EventPriority-enum">EventPriority</a></b> { NormalPriority, HighPriority }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#RestorePolicy-enum">RestorePolicy</a></b> { DontRestoreProperties, RestoreProperties }</td></tr>
</table>
<a name="properties"></a>
<h2>Properties</h2>
<ul>
<li class="fn"><b><a href="qstatemachine.html#animated-prop">animated</a></b> : bool</li>
<li class="fn"><b><a href="qstatemachine.html#errorString-prop">errorString</a></b> : const QString</li>
<li class="fn"><b><a href="qstatemachine.html#globalRestorePolicy-prop">globalRestorePolicy</a></b> : RestorePolicy</li>
</ul>
<ul>
<li class="fn">3 properties inherited from <a href="qstate.html#properties">QState</a></li>
<li class="fn">1 property inherited from <a href="qobject.html#properties">QObject</a></li>
</ul>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#QStateMachine">QStateMachine</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#dtor.QStateMachine">~QStateMachine</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#addDefaultAnimation">addDefaultAnimation</a></b> ( QAbstractAnimation * <i>animation</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#addState">addState</a></b> ( QAbstractState * <i>state</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#cancelDelayedEvent">cancelDelayedEvent</a></b> ( int <i>id</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#clearError">clearError</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSet&lt;QAbstractState *&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#configuration">configuration</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QAbstractAnimation *&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#defaultAnimations">defaultAnimations</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Error </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#error">error</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#errorString-prop">errorString</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStateMachine::RestorePolicy </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#globalRestorePolicy-prop">globalRestorePolicy</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#animated-prop">isAnimated</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#isRunning">isRunning</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#postDelayedEvent">postDelayedEvent</a></b> ( QEvent * <i>event</i>, int <i>delay</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#postEvent">postEvent</a></b> ( QEvent * <i>event</i>, EventPriority <i>priority</i> = NormalPriority )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#removeDefaultAnimation">removeDefaultAnimation</a></b> ( QAbstractAnimation * <i>animation</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#removeState">removeState</a></b> ( QAbstractState * <i>state</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#animated-prop">setAnimated</a></b> ( bool <i>enabled</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#globalRestorePolicy-prop">setGlobalRestorePolicy</a></b> ( QStateMachine::RestorePolicy <i>restorePolicy</i> )</td></tr>
</table>
<a name="reimplemented-public-functions"></a>
<h2>Reimplemented Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#eventFilter">eventFilter</a></b> ( QObject * <i>watched</i>, QEvent * <i>event</i> )</td></tr>
</table>
<ul>
<li class="fn">12 public functions inherited from <a href="qstate.html#public-functions">QState</a></li>
<li class="fn">2 public functions inherited from <a href="qabstractstate.html#public-functions">QAbstractState</a></li>
<li class="fn">29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#start">start</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#stop">stop</a></b> ()</td></tr>
</table>
<ul>
<li class="fn">1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#started">started</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#stopped">stopped</a></b> ()</td></tr>
</table>
<ul>
<li class="fn">2 signals inherited from <a href="qstate.html#signals">QState</a></li>
<li class="fn">2 signals inherited from <a href="qabstractstate.html#signals">QAbstractState</a></li>
<li class="fn">1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="reimplemented-protected-functions"></a>
<h2>Reimplemented Protected Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#event">event</a></b> ( QEvent * <i>e</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#onEntry">onEntry</a></b> ( QEvent * <i>event</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#onExit">onExit</a></b> ( QEvent * <i>event</i> )</td></tr>
</table>
<ul>
<li class="fn">3 protected functions inherited from <a href="qstate.html#protected-functions">QState</a></li>
<li class="fn">3 protected functions inherited from <a href="qabstractstate.html#protected-functions">QAbstractState</a></li>
<li class="fn">7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li class="fn">5 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li class="fn">3 protected functions inherited from <a href="qstate.html#protected-functions">QState</a></li>
<li class="fn">3 protected functions inherited from <a href="qabstractstate.html#protected-functions">QAbstractState</a></li>
<li class="fn">7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<a name="details"></a>
<!-- $$$QStateMachine-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QStateMachine class provides a hierarchical finite state machine.</p>
<p>QStateMachine is based on the concepts and notation of <a href="http://www.wisdom.weizmann.ac.il/~dharel/SCANNED.PAPERS/Statecharts.pdf">Statecharts</a>. QStateMachine is part of <a href="statemachine-api.html">The State Machine Framework</a>.</p>
<p>A state machine manages a set of states (classes that inherit from <a href="qabstractstate.html">QAbstractState</a>) and transitions (descendants of <a href="qabstracttransition.html">QAbstractTransition</a>) between those states; these states and transitions define a state graph. Once a state graph has been built, the state machine can execute it. QStateMachine's execution algorithm is based on the <a href="http://www.w3.org/TR/scxml/">State Chart XML (SCXML)</a> algorithm. The framework's <a href="statemachine-api.html">overview</a> gives several state graphs and the code to build them.</p>
<p>Use the <a href="qstatemachine.html#addState">addState</a>() function to add a top-level state to the state machine. States are removed with the <a href="qstatemachine.html#removeState">removeState</a>() function. Removing states while the machine is running is discouraged.</p>
<p>Before the machine can be started, the <a href="qstate.html#initialState-prop">initial state</a> must be set. The initial state is the state that the machine enters when started. You can then <a href="qstatemachine.html#start">start</a>() the state machine. The <a href="qstatemachine.html#started">started</a>() signal is emitted when the initial state is entered.</p>
<p>The machine is event driven and keeps its own event loop. Events are posted to the machine through <a href="qstatemachine.html#postEvent">postEvent</a>(). Note that this means that it executes asynchronously, and that it will not progress without a running event loop. You will normally not have to post events to the machine directly as Qt's transitions, e.g&#x2e;, <a href="qeventtransition.html">QEventTransition</a> and its subclasses, handle this. But for custom transitions triggered by events, <a href="qstatemachine.html#postEvent">postEvent</a>() is useful.</p>
<p>The state machine processes events and takes transitions until a top-level final state is entered; the state machine then emits the <a href="qstate.html#finished">finished</a>() signal. You can also <a href="qstatemachine.html#stop">stop</a>() the state machine explicitly. The <a href="qstatemachine.html#stopped">stopped</a>() signal is emitted in this case.</p>
<p>The following snippet shows a state machine that will finish when a button is clicked:</p>
<pre class="highlightedCode brush: cpp"> QPushButton button;

 QStateMachine machine;
 QState *s1 = new QState();
 s1-&gt;assignProperty(&amp;button, &quot;text&quot;, &quot;Click me&quot;);

 QFinalState *s2 = new QFinalState();
 s1-&gt;addTransition(&amp;button, SIGNAL(clicked()), s2);

 machine.addState(s1);
 machine.addState(s2);
 machine.setInitialState(s1);
 machine.start();</pre>
<p>This code example uses <a href="qstate.html">QState</a>, which inherits <a href="qabstractstate.html">QAbstractState</a>. The <a href="qstate.html">QState</a> class provides a state that you can use to set properties and invoke methods on <a href="qobject.html">QObject</a>s when the state is entered or exited. It also contains convenience functions for adding transitions, e.g&#x2e;, <a href="qsignaltransition.html">QSignalTransition</a>s as in this example. See the <a href="qstate.html">QState</a> class description for further details.</p>
<p>If an error is encountered, the machine will look for an <a href="qstate.html#errorState-prop">error state</a>, and if one is available, it will enter this state. The types of errors possible are described by the <a href="qstatemachine.html#Error-enum">Error</a> enum. After the error state is entered, the type of the error can be retrieved with <a href="qstatemachine.html#error">error</a>(). The execution of the state graph will not stop when the error state is entered. If no error state applies to the erroneous state, the machine will stop executing and an error message will be printed to the console.</p>
</div>
<p>See also <a href="qabstractstate.html">QAbstractState</a>, <a href="qabstracttransition.html">QAbstractTransition</a>, <a href="qstate.html">QState</a>, and <a href="statemachine-api.html">The State Machine Framework</a>.</p>
<!-- @@@QStateMachine -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Error$$$NoError$$$NoInitialStateError$$$NoDefaultStateInHistoryStateError$$$NoCommonAncestorForTransitionError -->
<h3 class="fn"><a name="Error-enum"></a>enum QStateMachine::Error</h3>
<p>This enum type defines errors that can occur in the state machine at run time. When the state machine encounters an unrecoverable error at run time, it will set the error code returned by <a href="qstatemachine.html#error">error</a>(), the error message returned by <a href="qstatemachine.html#errorString-prop">errorString</a>(), and enter an error state based on the context of the error.</p>
<table class="valuelist"><tr class="odd"><tr><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QStateMachine::NoError</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">No error has occurred.</td></tr>
<tr><td  class="topAlign"><tt>QStateMachine::NoInitialStateError</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">The machine has entered a <a href="qstate.html">QState</a> with children which does not have an initial state set. The context of this error is the state which is missing an initial state.</td></tr>
<tr><td  class="topAlign"><tt>QStateMachine::NoDefaultStateInHistoryStateError</tt></td><td class=" topAlign"><tt>2</tt></td><td  class="topAlign">The machine has entered a <a href="qhistorystate.html">QHistoryState</a> which does not have a default state set. The context of this error is the <a href="qhistorystate.html">QHistoryState</a> which is missing a default state.</td></tr>
<tr><td  class="topAlign"><tt>QStateMachine::NoCommonAncestorForTransitionError</tt></td><td class=" topAlign"><tt>3</tt></td><td  class="topAlign">The machine has selected a transition whose source and targets are not part of the same tree of states, and thus are not part of the same state machine. Commonly, this could mean that one of the states has not been given any parent or added to any machine. The context of this error is the source state of the transition.</td></tr>
</table>
<p>See also <a href="qstate.html#errorState-prop">setErrorState</a>().</p>
<!-- @@@Error -->
<!-- $$$EventPriority$$$NormalPriority$$$HighPriority -->
<h3 class="fn"><a name="EventPriority-enum"></a>enum QStateMachine::EventPriority</h3>
<p>This enum type specifies the priority of an event posted to the state machine using <a href="qstatemachine.html#postEvent">postEvent</a>().</p>
<p>Events of high priority are processed before events of normal priority.</p>
<table class="valuelist"><tr class="odd"><tr><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QStateMachine::NormalPriority</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">The event has normal priority.</td></tr>
<tr><td  class="topAlign"><tt>QStateMachine::HighPriority</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">The event has high priority.</td></tr>
</table>
<!-- @@@EventPriority -->
<!-- $$$RestorePolicy$$$DontRestoreProperties$$$RestoreProperties -->
<h3 class="fn"><a name="RestorePolicy-enum"></a>enum QStateMachine::RestorePolicy</h3>
<p>This enum specifies the restore policy type. The restore policy takes effect when the machine enters a state which sets one or more properties. If the restore policy is set to RestoreProperties, the state machine will save the original value of the property before the new value is set.</p>
<p>Later, when the machine either enters a state which does not set a value for the given property, the property will automatically be restored to its initial value.</p>
<p>Only one initial value will be saved for any given property. If a value for a property has already been saved by the state machine, it will not be overwritten until the property has been successfully restored.</p>
<table class="valuelist"><tr class="odd"><tr><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QStateMachine::DontRestoreProperties</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">The state machine should not save the initial values of properties and restore them later.</td></tr>
<tr><td  class="topAlign"><tt>QStateMachine::RestoreProperties</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">The state machine should save the initial values of properties and restore them later.</td></tr>
</table>
<p>See also <a href="qstatemachine.html#globalRestorePolicy-prop">QStateMachine::globalRestorePolicy</a> and <a href="qstate.html#assignProperty">QState::assignProperty</a>().</p>
<!-- @@@RestorePolicy -->
</div>
<div class="prop">
<h2>Property Documentation</h2>
<!-- $$$animated-prop$$$isAnimated$$$setAnimatedbool -->
<h3 class="fn"><a name="animated-prop"></a>animated : bool</h3>
<p>This property holds whether animations are enabled.</p>
<p>The default value of this property is true.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> bool </td><td class="memItemRight bottomAlign"><b>isAnimated</b> () const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setAnimated</b> ( bool <i>enabled</i> )</td></tr>
</table>
<p>See also <a href="qabstracttransition.html#addAnimation">QAbstractTransition::addAnimation</a>().</p>
<!-- @@@animated -->
<!-- $$$errorString-prop$$$errorString -->
<h3 class="fn"><a name="errorString-prop"></a>errorString : const <a href="qstring.html">QString</a></h3>
<p>This property holds the error string of this state machine.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> QString </td><td class="memItemRight bottomAlign"><b>errorString</b> () const</td></tr>
</table>
<!-- @@@errorString -->
<!-- $$$globalRestorePolicy-prop$$$globalRestorePolicy$$$setGlobalRestorePolicyQStateMachine::RestorePolicy -->
<h3 class="fn"><a name="globalRestorePolicy-prop"></a>globalRestorePolicy : <a href="qstatemachine.html#RestorePolicy-enum">RestorePolicy</a></h3>
<p>This property holds the restore policy for states of this state machine.</p>
<p>The default value of this property is <a href="qstatemachine.html#RestorePolicy-enum">QStateMachine::DontRestoreProperties</a>.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> QStateMachine::RestorePolicy </td><td class="memItemRight bottomAlign"><b>globalRestorePolicy</b> () const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setGlobalRestorePolicy</b> ( QStateMachine::RestorePolicy <i>restorePolicy</i> )</td></tr>
</table>
<!-- @@@globalRestorePolicy -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QStateMachine[overload1]$$$QStateMachineQObject* -->
<h3 class="fn"><a name="QStateMachine"></a>QStateMachine::QStateMachine ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new state machine with the given <i>parent</i>.</p>
<!-- @@@QStateMachine -->
<!-- $$$~QStateMachine[overload1]$$$~QStateMachine -->
<h3 class="fn"><a name="dtor.QStateMachine"></a>QStateMachine::~QStateMachine ()</h3>
<p>Destroys this state machine.</p>
<!-- @@@~QStateMachine -->
<!-- $$$addDefaultAnimation[overload1]$$$addDefaultAnimationQAbstractAnimation* -->
<h3 class="fn"><a name="addDefaultAnimation"></a>void QStateMachine::addDefaultAnimation ( <a href="qabstractanimation.html">QAbstractAnimation</a> * <i>animation</i> )</h3>
<p>Adds a default <i>animation</i> to be considered for any transition.</p>
<!-- @@@addDefaultAnimation -->
<!-- $$$addState[overload1]$$$addStateQAbstractState* -->
<h3 class="fn"><a name="addState"></a>void QStateMachine::addState ( <a href="qabstractstate.html">QAbstractState</a> * <i>state</i> )</h3>
<p>Adds the given <i>state</i> to this state machine. The state becomes a top-level state.</p>
<p>If the state is already in a different machine, it will first be removed from its old machine, and then added to this machine.</p>
<p>See also <a href="qstatemachine.html#removeState">removeState</a>() and <a href="qstate.html#initialState-prop">setInitialState</a>().</p>
<!-- @@@addState -->
<!-- $$$cancelDelayedEvent[overload1]$$$cancelDelayedEventint -->
<h3 class="fn"><a name="cancelDelayedEvent"></a>bool QStateMachine::cancelDelayedEvent ( int <i>id</i> )</h3>
<p>Cancels the delayed event identified by the given <i>id</i>. The id should be a value returned by a call to <a href="qstatemachine.html#postDelayedEvent">postDelayedEvent</a>(). Returns true if the event was successfully cancelled, otherwise returns false.</p>
<p><b>Note:</b> This function is <a href="threads-reentrancy.html#thread-safe">thread-safe</a>.</p>
<p>See also <a href="qstatemachine.html#postDelayedEvent">postDelayedEvent</a>().</p>
<!-- @@@cancelDelayedEvent -->
<!-- $$$clearError[overload1]$$$clearError -->
<h3 class="fn"><a name="clearError"></a>void QStateMachine::clearError ()</h3>
<p>Clears the error string and error code of the state machine.</p>
<!-- @@@clearError -->
<!-- $$$configuration[overload1]$$$configuration -->
<h3 class="fn"><a name="configuration"></a><a href="qset.html">QSet</a>&lt;<a href="qabstractstate.html">QAbstractState</a> *&gt; QStateMachine::configuration () const</h3>
<p>Returns the maximal consistent set of states (including parallel and final states) that this state machine is currently in. If a state <tt>s</tt> is in the configuration, it is always the case that the parent of <tt>s</tt> is also in c. Note, however, that the machine itself is not an explicit member of the configuration.</p>
<!-- @@@configuration -->
<!-- $$$defaultAnimations[overload1]$$$defaultAnimations -->
<h3 class="fn"><a name="defaultAnimations"></a><a href="qlist.html">QList</a>&lt;<a href="qabstractanimation.html">QAbstractAnimation</a> *&gt; QStateMachine::defaultAnimations () const</h3>
<p>Returns the list of default animations that will be considered for any transition.</p>
<!-- @@@defaultAnimations -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn"><a name="error"></a><a href="qstatemachine.html#Error-enum">Error</a> QStateMachine::error () const</h3>
<p>Returns the error code of the last error that occurred in the state machine.</p>
<!-- @@@error -->
<!-- $$$event[overload1]$$$eventQEvent* -->
<h3 class="fn"><a name="event"></a>bool QStateMachine::event ( <a href="qevent.html">QEvent</a> * <i>e</i> )<tt> [virtual protected]</tt></h3>
<p>Reimplemented from <a href="qobject.html#event">QObject::event</a>().</p>
<!-- @@@event -->
<!-- $$$eventFilter[overload1]$$$eventFilterQObject*QEvent* -->
<h3 class="fn"><a name="eventFilter"></a>bool QStateMachine::eventFilter ( <a href="qobject.html">QObject</a> * <i>watched</i>, <a href="qevent.html">QEvent</a> * <i>event</i> )<tt> [virtual]</tt></h3>
<p>Reimplemented from <a href="qobject.html#eventFilter">QObject::eventFilter</a>().</p>
<!-- @@@eventFilter -->
<!-- $$$isRunning[overload1]$$$isRunning -->
<h3 class="fn"><a name="isRunning"></a>bool QStateMachine::isRunning () const</h3>
<p>Returns whether this state machine is running.</p>
<p><a href="qstatemachine.html#start">start</a>(), <a href="qstatemachine.html#stop">stop</a>()</p>
<!-- @@@isRunning -->
<!-- $$$onEntry[overload1]$$$onEntryQEvent* -->
<h3 class="fn"><a name="onEntry"></a>void QStateMachine::onEntry ( <a href="qevent.html">QEvent</a> * <i>event</i> )<tt> [virtual protected]</tt></h3>
<p>Reimplemented from <a href="qabstractstate.html#onEntry">QAbstractState::onEntry</a>().</p>
<p>This function will call <a href="qstatemachine.html#start">start</a>() to start the state machine.</p>
<!-- @@@onEntry -->
<!-- $$$onExit[overload1]$$$onExitQEvent* -->
<h3 class="fn"><a name="onExit"></a>void QStateMachine::onExit ( <a href="qevent.html">QEvent</a> * <i>event</i> )<tt> [virtual protected]</tt></h3>
<p>Reimplemented from <a href="qabstractstate.html#onExit">QAbstractState::onExit</a>().</p>
<p>This function will call <a href="qstatemachine.html#stop">stop</a>() to stop the state machine and subsequently emit the <a href="qstatemachine.html#stopped">stopped</a>() signal.</p>
<!-- @@@onExit -->
<!-- $$$postDelayedEvent[overload1]$$$postDelayedEventQEvent*int -->
<h3 class="fn"><a name="postDelayedEvent"></a>int QStateMachine::postDelayedEvent ( <a href="qevent.html">QEvent</a> * <i>event</i>, int <i>delay</i> )</h3>
<p>Posts the given <i>event</i> for processing by this state machine, with the given <i>delay</i> in milliseconds. Returns an identifier associated with the delayed event, or -1 if the event could not be posted.</p>
<p>This function returns immediately. When the delay has expired, the event will be added to the state machine's event queue for processing. The state machine takes ownership of the event and deletes it once it has been processed.</p>
<p>You can only post events when the state machine is running.</p>
<p><b>Note:</b> This function is <a href="threads-reentrancy.html#thread-safe">thread-safe</a>.</p>
<p>See also <a href="qstatemachine.html#cancelDelayedEvent">cancelDelayedEvent</a>() and <a href="qstatemachine.html#postEvent">postEvent</a>().</p>
<!-- @@@postDelayedEvent -->
<!-- $$$postEvent[overload1]$$$postEventQEvent*EventPriority -->
<h3 class="fn"><a name="postEvent"></a>void QStateMachine::postEvent ( <a href="qevent.html">QEvent</a> * <i>event</i>, <a href="qstatemachine.html#EventPriority-enum">EventPriority</a> <i>priority</i> = NormalPriority )</h3>
<p>Posts the given <i>event</i> of the given <i>priority</i> for processing by this state machine.</p>
<p>This function returns immediately. The event is added to the state machine's event queue. Events are processed in the order posted. The state machine takes ownership of the event and deletes it once it has been processed.</p>
<p>You can only post events when the state machine is running.</p>
<p><b>Note:</b> This function is <a href="threads-reentrancy.html#thread-safe">thread-safe</a>.</p>
<p>See also <a href="qstatemachine.html#postDelayedEvent">postDelayedEvent</a>().</p>
<!-- @@@postEvent -->
<!-- $$$removeDefaultAnimation[overload1]$$$removeDefaultAnimationQAbstractAnimation* -->
<h3 class="fn"><a name="removeDefaultAnimation"></a>void QStateMachine::removeDefaultAnimation ( <a href="qabstractanimation.html">QAbstractAnimation</a> * <i>animation</i> )</h3>
<p>Removes <i>animation</i> from the list of default animations.</p>
<!-- @@@removeDefaultAnimation -->
<!-- $$$removeState[overload1]$$$removeStateQAbstractState* -->
<h3 class="fn"><a name="removeState"></a>void QStateMachine::removeState ( <a href="qabstractstate.html">QAbstractState</a> * <i>state</i> )</h3>
<p>Removes the given <i>state</i> from this state machine. The state machine releases ownership of the state.</p>
<p>See also <a href="qstatemachine.html#addState">addState</a>().</p>
<!-- @@@removeState -->
<!-- $$$start[overload1]$$$start -->
<h3 class="fn"><a name="start"></a>void QStateMachine::start ()<tt> [slot]</tt></h3>
<p>Starts this state machine. The machine will reset its configuration and transition to the initial state. When a final top-level state (<a href="qfinalstate.html">QFinalState</a>) is entered, the machine will emit the <a href="qstate.html#finished">finished</a>() signal.</p>
<p><b>Note:</b> A state machine will not run without a running event loop, such as the main application event loop started with <a href="qcoreapplication.html#exec">QCoreApplication::exec</a>() or <a href="qapplication.html#exec">QApplication::exec</a>().</p>
<p>See also <a href="qstatemachine.html#started">started</a>(), <a href="qstate.html#finished">finished</a>(), <a href="qstatemachine.html#stop">stop</a>(), and <a href="qstate.html#initialState-prop">initialState</a>().</p>
<!-- @@@start -->
<!-- $$$started[overload1]$$$started -->
<h3 class="fn"><a name="started"></a>void QStateMachine::started ()<tt> [signal]</tt></h3>
<p>This signal is emitted when the state machine has entered its initial state (<a href="qstate.html#initialState-prop">QStateMachine::initialState</a>).</p>
<p>See also <a href="qstate.html#finished">QStateMachine::finished</a>() and <a href="qstatemachine.html#start">QStateMachine::start</a>().</p>
<!-- @@@started -->
<!-- $$$stop[overload1]$$$stop -->
<h3 class="fn"><a name="stop"></a>void QStateMachine::stop ()<tt> [slot]</tt></h3>
<p>Stops this state machine. The state machine will stop processing events and then emit the <a href="qstatemachine.html#stopped">stopped</a>() signal.</p>
<p>See also <a href="qstatemachine.html#stopped">stopped</a>() and <a href="qstatemachine.html#start">start</a>().</p>
<!-- @@@stop -->
<!-- $$$stopped[overload1]$$$stopped -->
<h3 class="fn"><a name="stopped"></a>void QStateMachine::stopped ()<tt> [signal]</tt></h3>
<p>This signal is emitted when the state machine has stopped.</p>
<p>See also <a href="qstatemachine.html#stop">QStateMachine::stop</a>() and <a href="qstate.html#finished">QStateMachine::finished</a>().</p>
<!-- @@@stopped -->
</div>
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    </div> 
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
    <br />
    <p>
      Licensees holding valid Qt Commercial licenses may use this document in accordance with the      Qt Commercial License Agreement provided with the Software or, alternatively, in accordance      with the terms contained in a written agreement between you and Nokia.</p>
    <p>
      Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
      Free Documentation License version 1.3</a>
      as published by the Free Software Foundation.</p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback.</p> <p class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
</body>
</html>
