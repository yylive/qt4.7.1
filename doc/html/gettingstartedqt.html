<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- gettingstartedqt.qdoc -->
  <title>Qt 4.7: Getting Started Programming with Qt</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://doc.qt.nokia.com">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global Declarations</a></li> 
			   <li><a href="licensing.html">Licenses and Credits</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global Declarations</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
			   <li class="defaultLink"><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li class="defaultLink"><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li class="defaultLink"><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li class="defaultLink"><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li class="defaultLink"><a href="best-practices.html">How-To's and Best Practices</a></li> 
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Getting Started Programming with Qt</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
        </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#hello-notepad">Hello Notepad</a></li>
<li class="level2"><a href="#learn-more">Learn More</a></li>
<li class="level1"><a href="#adding-a-quit-button">Adding a Quit Button</a></li>
<li class="level2"><a href="#learn-more">Learn More</a></li>
<li class="level1"><a href="#subclassing-qwidget">Subclassing QWidget</a></li>
<li class="level2"><a href="#learn-more">Learn More</a></li>
<li class="level2"><a href="#creating-a-pro-file">Creating a .pro file</a></li>
<li class="level1"><a href="#using-a-qmainwindow">Using a QMainWindow</a></li>
<li class="level2"><a href="#learn-more">Learn More</a></li>
<li class="level1"><a href="#saving-and-loading">Saving and Loading</a></li>
<li class="level2"><a href="#learn-more">Learn More</a></li>
</ul>
</div>
<h1 class="title">Getting Started Programming with Qt</h1>
<span class="subtitle"></span>
<!-- $$$gettingstartedqt.html-description -->
<div class="descr"> <a name="details"></a>
<p>Welcome to the world of Qt--the cross-platform GUI toolkit. In this getting started guide, we teach basic Qt knowledge by implementing a simple Notepad application. After reading this guide, you should be ready to delve into our overviews and API documentation, and find the information you need for the application you are developing.</p>
<a name="hello-notepad"></a>
<h2>Hello Notepad</h2>
<p>In this first example, we simply create and show a text edit in a window frame on the desktop. This represents the simplest possible Qt program that has a GUI.</p>
<p class="centerAlign"><img src="images/gs1.png" /></p><p>Here is the code:</p>
<pre class="highlightedCode brush: cpp">  1        #include &lt;QApplication&gt;
  2        #include &lt;QTextEdit&gt;
  3
  4        int main(int argv, char **args)
  5        {
  6            QApplication app(argv, args);
  7
  8            QTextEdit textEdit;
  9            textEdit.show();
 10
 11            return app.exec();
 12        }</pre>
<p>Let us go through the code line by line. In the first two lines, we include the header files for <a href="qapplication.html">QApplication</a> and <a href="qtextedit.html">QTextEdit</a>, which are the two classes that we need for this example. All Qt classes have a header file named after them.</p>
<p>Line 6 creates a <a href="qapplication.html">QApplication</a> object. This object manages application-wide resources and is necessary to run any Qt program that has a GUI. It needs <tt>argv</tt> and <tt>args</tt> because Qt accepts a few command line arguments.</p>
<p>Line 8 creates a <a href="qtextedit.html">QTextEdit</a> object. A text edit is a visual element in the GUI. In Qt, we call such elements widgets. Examples of other widgets are scroll bars, labels, and radio buttons. A widget can also be a container for other widgets; a dialog or a main application window, for example.</p>
<p>Line 9 shows the text edit on the screen in its own window frame. Since widgets also function as containers (for instance a <a href="qmainwindow.html">QMainWindow</a>, which has toolbars, menus, a status bar, and a few other widgets), it is possible to show a single widget in its own window. Widgets are not visible by default; the function <a href="qwidget.html#show">show()</a> makes the widget visible.</p>
<p>Line 11 makes the <a href="qapplication.html">QApplication</a> enter its event loop. When a Qt application is running, events are generated and sent to the widgets of the application. Examples of events are mouse presses and key strokes. When you type text in the text edit widget, it receives key pressed events and responds by drawing the text typed.</p>
<p>To run the application, open a command prompt, and enter the directory in which you have the <tt>.cpp</tt> file of the program. The following shell commands build the program.</p>
<pre class="highlightedCode brush: cpp">         qmake -project
         qmake
         make</pre>
<p>This will leave an executable in the <tt>part1</tt> directory (note that on Windows, you may have to use <tt>nmake</tt> instead of <tt>make</tt>. Also, the executable will be placed in part1/debug or part1/release). <tt>qmake</tt> is Qt's build tool, which takes a configuration file. <tt>qmake</tt> generates this for us when given the <tt>-project</tt> argument. Given the configuration file (suffixed .pro), <tt>qmake</tt> produces a <tt>make</tt> file that will build the program for you. We will look into writing our own <tt>.pro</tt> files later.</p>
<a name="learn-more"></a>
<h3>Learn More</h3>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >About</th><th >Here</th></tr></thead>
<tr class="odd topAlign"><td ><p>Widgets and Window Geometry</p></td><td ><p><a href="application-windows.html">Window and Dialog Widgets</a></p></td></tr>
<tr class="even topAlign"><td ><p>Events and event handling</p></td><td ><p><a href="eventsandfilters.html">The Event System</a></p></td></tr>
</table>
<a name="adding-a-quit-button"></a>
<h2>Adding a Quit Button</h2>
<p>In a real application, you will normally need more than one widget. We will now introduce a <a href="qpushbutton.html">QPushButton</a> beneath the text edit. The button will exit the Notepad application when pushed (i.e&#x2e;, clicked on with the mouse).</p>
<p class="centerAlign"><img src="images/gs2.png" /></p><p>Let us take a look at the code.</p>
<pre class="highlightedCode brush: cpp">  1        #include &lt;QtGui&gt;
  2
  3        int main(int argv, char **args)
  4        {
  5            QApplication app(argv, args);
  6
  7            QTextEdit textEdit;
  8            QPushButton quitButton(&quot;Quit&quot;);
  9
 10            QObject::connect(&amp;quitButton, SIGNAL(clicked()), qApp, SLOT(quit()));
 11
 12            QVBoxLayout layout;
 13            layout.addWidget(&amp;textEdit);
 14            layout.addWidget(&amp;quitButton);
 15
 16            QWidget window;
 17            window.setLayout(&amp;layout);
 18
 19            window.show();
 20
 21            return app.exec();
 22        }</pre>
<p>Line 1 includes <a href="qtgui.html">QtGui</a>, which contains all of Qt's GUI classes.</p>
<p>Line 10 uses Qt's Signals and Slots mechanism to make the application exit when the <b>Quit button</b> is pushed. A slot is a function that can be invoked at runtime using its name (as a literal string). A signal is a function that when called will invoke slots registered with it; we call that to connect the slot to the signal and to emit the signal.</p>
<p><a href="qcoreapplication.html#quit">quit()</a> is a slot of <a href="qapplication.html">QApplication</a> that exits the application. <a href="qabstractbutton.html#clicked">clicked()</a> is a signal that <a href="qpushbutton.html">QPushButton</a> emits when it is pushed. The static <a href="qobject.html#connect">QObject::connect</a>() function takes care of connecting the slot to the signal. SIGNAL() and SLOT() are two macros that take the function signatures of the signal and slot to connect. We also need to give pointers to the objects that should send and receive the signal.</p>
<p>Line 12 creates a <a href="qvboxlayout.html">QVBoxLayout</a>. As mentioned, widgets can contain other widgets. It is possible to set the bounds (the location and size) of child widgets directly, but it is usually easier to use a layout. A layout manages the bounds of a widget's children. <a href="qvboxlayout.html">QVBoxLayout</a>, for instance, places the children in a vertical row.</p>
<p>Line 13 and 14 adds the text edit and button to the layout. In line 17, we set the layout on a widget.</p>
<a name="learn-more"></a>
<h3>Learn More</h3>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >About</th><th >Here</th></tr></thead>
<tr class="odd topAlign"><td ><p>Signals and slots</p></td><td ><p><a href="signalsandslots.html">Signals &amp; Slots</a></p></td></tr>
<tr class="even topAlign"><td ><p>Layouts</p></td><td ><p><a href="layout.html">Layout Management</a>, <a href="widgets-and-layouts.html">Widgets and Layouts</a>, <a href="examples-layouts.html">Layout Examples</a></p></td></tr>
<tr class="odd topAlign"><td ><p>The widgets that come with Qt</p></td><td ><p><a href="gallery.html">Qt Widget Gallery</a>, <a href="examples-widgets.html">Widget Examples</a></p></td></tr>
</table>
<a name="subclassing-qwidget"></a>
<h2>Subclassing QWidget</h2>
<p>When the user wants to quit an application, you might want to pop-up a dialog that asks whether he/she really wants to quit. In this example, we subclass <a href="qwidget.html">QWidget</a>, and add a slot that we connect to the <b>Quit button</b>.</p>
<p class="centerAlign"><img src="images/gs3.png" /></p><p>Let us look at the code:</p>
<pre class="highlightedCode brush: cpp">  5        class Notepad : public QWidget
  6        {
  7            Q_OBJECT
  8
  9        public:
 10            Notepad();
 11
 12        private slots:
 13            void quit();
 14
 15        private:
 16            QTextEdit *textEdit;
 17            QPushButton *quitButton;
 18        };</pre>
<p>The <tt>Q_OBJECT</tt> macro must be first in the class definition, and declares our class as a <tt>QObject</tt> (Naturally, it must also inherit from <a href="qobject.html">QObject</a>). A <a href="qobject.html">QObject</a> adds several abilities to a normal C++ class. Notably, the class name and slot names can be queried at run-time. It is also possible to query a slot's parameter types and invoke it.</p>
<p>Line 13 declares the slot <tt>quit()</tt>. This is easy using the <tt>slots</tt> macro. The <tt>quit()</tt> slot can now be connected to signals with a matching signature (any signal that takes no parameters).</p>
<p>Instead of setting up the GUI and connecting the slot in the <tt>main()</tt> function, we now use <tt>Notepad</tt>'s constructor.</p>
<pre class="highlightedCode brush: cpp">         Notepad::Notepad()
         {
             textEdit = new QTextEdit;
             quitButton = new QPushButton(tr(&quot;Quit&quot;));

             connect(quitButton, SIGNAL(clicked()), this, SLOT(quit()));

             QVBoxLayout *layout = new QVBoxLayout;
             layout-&gt;addWidget(textEdit);
             layout-&gt;addWidget(quitButton);

             setLayout(layout);

             setWindowTitle(tr(&quot;Notepad&quot;));
         }</pre>
<p>As you saw in the class definition, we use pointers to our <a href="qobject.html">QObject</a>s (<tt>textEdit</tt> and <tt>quitButton</tt>). As a rule, you should always allocate <a href="qobject.html">QObject</a>s on the heap and never copy them.</p>
<p>We now use the function <a href="qobject.html#tr">tr()</a> around our user visible strings. This function is necessary when you want to provide your application in more than one language (e.g&#x2e; English and Chinese). We will not go into details here, but you can follow the <tt>Qt Linguist</tt> link from the learn more table.</p>
<a name="learn-more"></a>
<h3>Learn More</h3>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >About</th><th >Here</th></tr></thead>
<tr class="odd topAlign"><td ><p>tr() and internationalization</p></td><td ><p><a href="linguist-manual.html">Qt Linguist Manual</a>, <a href="i18n-source-translation.html">Writing Source Code for Translation</a>, <a href="linguist-hellotr.html">Hello tr</a>() Example, <a href="internationalization.html">Internationalization with Qt</a></p></td></tr>
<tr class="even topAlign"><td ><p><a href="qtwebkit-bridge.html#qobjects">QObjects</a> and the Qt Object model (This is essential to understand Qt)</p></td><td ><p><a href="object.html">Object Model</a></p></td></tr>
<tr class="odd topAlign"><td ><p>qmake and the Qt build system</p></td><td ><p><a href="qmake-manual.html">qmake Manual</a></p></td></tr>
</table>
<a name="creating-a-pro-file"></a>
<h3>Creating a .pro file</h3>
<p>For this example, we write our own <tt>.pro</tt> file instead of using <tt>qmake</tt>'s <tt>-project</tt> option.</p>
<pre class="highlightedCode brush: cpp">         HEADERS =  notepad.h
         SOURCES =  notepad.cpp \
                    main.cpp</pre>
<p>The following shell commands build the example.</p>
<pre class="highlightedCode brush: cpp">         qmake
         make</pre>
<a name="using-a-qmainwindow"></a>
<h2>Using a QMainWindow</h2>
<p>Many applications will benefit from using a <a href="qmainwindow.html">QMainWindow</a>, which has its own layout to which you can add a menu bar, dock widgets, tool bars, and a status bar. <a href="qmainwindow.html">QMainWindow</a> has a center area that can be occupied by any kind of widget. In our case, we will place our text edit there.</p>
<p class="centerAlign"><img src="images/gs4.png" /></p><p>Let us look at the new <tt>Notepad</tt> class definition.</p>
<pre class="highlightedCode brush: cpp">         #include &lt;QtGui&gt;

         class Notepad : public QMainWindow
         {
             Q_OBJECT

         public:
             Notepad();

         private slots:
             void open();
             void save();
             void quit();

         private:
             QTextEdit *textEdit;

             QAction *openAction;
             QAction *saveAction;
             QAction *exitAction;

             QMenu *fileMenu;
         };</pre>
<p>We include two more slots that can save and open a document. We will implement these in the next section.</p>
<p>Often, in a main window, the same slot should be invoked by several widgets. Examples are menu items and buttons on a tool bar. To make this easier, Qt provides <a href="qaction.html">QAction</a>, which can be given to several widgets, and be connected to a slot. For instance, both <a href="qmenu.html">QMenu</a> and <a href="qtoolbar.html">QToolBar</a> can create menu items and tool buttons from the same <a href="qaction.html">QAction</a>s. We will see how this works shortly.</p>
<p>As before, we use the <tt>Notepad</tt>s constructor to set up the GUI.</p>
<pre class="highlightedCode brush: cpp">         Notepad::Notepad()
         {
             saveAction = new QAction(tr(&quot;&amp;Open&quot;), this);
             saveAction = new QAction(tr(&quot;&amp;Save&quot;), this);
             exitAction = new QAction(tr(&quot;E&amp;xit&quot;), this);

             connect(openAction, SIGNAL(triggered()), this, SLOT(open()));
             connect(saveAction, SIGNAL(triggered()), this, SLOT(save()));
             connect(exitAction, SIGNAL(triggered()), qApp, SLOT(quit()));

             fileMenu = menuBar()-&gt;addMenu(tr(&quot;&amp;File&quot;));
             fileMenu-&gt;addAction(openAction);
             fileMenu-&gt;addAction(saveAction);
             fileMenu-&gt;addSeparator();
             fileMenu-&gt;addAction(exitAction);

             textEdit = new QTextEdit;
             setCentralWidget(textEdit);

             setWindowTitle(tr(&quot;Notepad&quot;));
         }</pre>
<p><a href="qaction.html">QAction</a>s are created with the text that should appear on the widgets that we add them to (in our case, menu items). If we also wanted to add them to a tool bar, we could have given <a href="qicon.html">icons</a> to the actions.</p>
<p>When a menu item is clicked now, the item will trigger the action, and the respective slot will be invoked.</p>
<a name="learn-more"></a>
<h3>Learn More</h3>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >About</th><th >Here</th></tr></thead>
<tr class="odd topAlign"><td ><p>Main windows and main window classes</p></td><td ><p><a href="mainwindow.html">Application Main Window</a>, <a href="examples-mainwindow.html">Main Window Examples</a></p></td></tr>
<tr class="even topAlign"><td ><p>MDI applications</p></td><td ><p><a href="qmdiarea.html">QMdiArea</a>, <a href="mainwindows-mdi.html">MDI Example</a></p></td></tr>
</table>
<a name="saving-and-loading"></a>
<h2>Saving and Loading</h2>
<p>In this example, we will implement the functionality of the <tt>open()</tt> and <tt>save()</tt> slots that we added in the previous example.</p>
<p class="centerAlign"><img src="images/gs5.png" /></p><p>We will start with the <tt>open()</tt> slot:</p>
<pre class="highlightedCode brush: cpp">         QString fileName = QFileDialog::getOpenFileName(this, tr(&quot;Open File&quot;), &quot;&quot;,
             tr(&quot;Text Files (*.txt);;C++ Files (*.cpp *.h)&quot;));

         if (fileName != &quot;&quot;) {
             QFile file(fileName);
             if (!file.open(QIODevice::ReadOnly)) {
                 QMessageBox::critical(this, tr(&quot;Error&quot;),
                     tr(&quot;Could not open file&quot;));
                 return;
             }
             QString contents = file.readAll().constData();
             textEdit-&gt;setPlainText(contents);
             file.close();
         }</pre>
<p>The first step is asking the user for the name of the file to open. Qt comes with <a href="qfiledialog.html">QFileDialog</a>, which is a dialog from which the user can select a file. The image above shows the dialog on Kubuntu. The static <a href="qfiledialog.html#getOpenFileName">getOpenFileName()</a> function displays a modal file dialog, and does not return until the user has selected a file. It returns the file path of the file selected, or an empty string if the user canceled the dialog.</p>
<p>If we have a file name, we try to open the file with <a href="qiodevice.html#open">open()</a>, which returns true if the file could be opened. We will not go into error handling here, but you can follow the links from the learn more section. If the file could not be opened, we use <a href="qmessagebox.html">QMessageBox</a> to display a dialog with an error message (see the <a href="qmessagebox.html">QMessageBox</a> class description for further details).</p>
<p>Actually reading in the data is trivial using the <a href="qiodevice.html#readAll">readAll()</a> function, which returns all data in the file in a <a href="qbytearray.html">QByteArray</a>. The <a href="qbytearray.html#constData">constData()</a> returns all data in the array as a const char*, which <a href="qstring.html">QString</a> has a constructor for. The contents can then be displayed in the text edit. We then <a href="qiodevice.html#close">close()</a> the file to return the file descriptor back to the operating system.</p>
<p>Now, let us move on to the the <tt>save()</tt> slot.</p>
<pre class="highlightedCode brush: cpp">         QString fileName = QFileDialog::getSaveFileName(this, tr(&quot;Save File&quot;), &quot;&quot;,
             tr(&quot;Text Files (*.txt);;C++ Files (*.cpp *.h)&quot;));

         if (fileName != &quot;&quot;) {
             QFile file(fileName);
             if (!file.open(QIODevice::WriteOnly)) {
                 <span class="comment">// error message</span>
             } else {
                 QTextStream stream(&amp;file);
                 stream &lt;&lt; textEdit-&gt;toPlainText();
                 stream.flush();
                 file.close();
             }
         }</pre>
<p>When we write the contents of the text edit to the file, we use the <a href="qtextstream.html">QTextStream</a> class, which wraps the <a href="qfile.html">QFile</a> object. The text stream can write QStrings directly to the file; <a href="qfile.html">QFile</a> only accepts raw data (char*) with the <a href="qiodevice.html#write">write()</a> functions of <a href="qiodevice.html">QIODevice</a>.</p>
<a name="learn-more"></a>
<h3>Learn More</h3>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >About</th><th >Here</th></tr></thead>
<tr class="odd topAlign"><td ><p>Files and I/O devices</p></td><td ><p><a href="qfile.html">QFile</a>, <a href="qiodevice.html">QIODevice</a></p></td></tr>
</table>
</div>
<!-- @@@gettingstartedqt.html -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    </div> 
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
    <br />
    <p>
      Licensees holding valid Qt Commercial licenses may use this document in accordance with the      Qt Commercial License Agreement provided with the Software or, alternatively, in accordance      with the terms contained in a written agreement between you and Nokia.</p>
    <p>
      Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
      Free Documentation License version 1.3</a>
      as published by the Free Software Foundation.</p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback.</p> <p class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
</body>
</html>
