<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qdeclarativevisualitemmodel.cpp -->
  <title>Qt 4.7: QML VisualDataModel Element</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://doc.qt.nokia.com">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global Declarations</a></li> 
			   <li><a href="licensing.html">Licenses and Credits</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global Declarations</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
			   <li class="defaultLink"><a href="qt-basic-concepts.html">Programming with Qt</a></li> 
			   <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li class="defaultLink"><a href="qt-gui-concepts.html">UI Design with Qt</a></li> 
			   <li class="defaultLink"><a href="developing-with-qt.html">Cross-platform and Platform-specific</a></li> 
			   <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li class="defaultLink"><a href="technology-apis.html">Qt and Key Technologies</a></li> 
			   <li class="defaultLink"><a href="best-practices.html">How-To's and Best Practices</a></li> 
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="qdeclarativeelements.html">QML Elements</a></li>              <li>QML VisualDataModel Element</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
        </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#methods">Methods</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QML VisualDataModel Element</h1>
<span class="subtitle"></span>
<!-- $$$VisualDataModel-brief -->
<p>The VisualDataModel encapsulates a model and delegate <a href="#details">More...</a></p>
<!-- @@@VisualDataModel -->
<li><a href="qml-visualdatamodel-members.html">List of all members, including inherited members</a></li>
<a name="properties"></a>
<h2>Properties</h2>
<ul>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#delegate-prop">delegate</a></b></b> : Component</li>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#model-prop">model</a></b></b> : model</li>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#parts-prop">parts</a></b></b> : object</li>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a></b></b> : QModelIndex</li>
</ul>
<a name="methods"></a>
<h2>Methods</h2>
<ul>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#modelIndex-method">modelIndex</a></b></b></li>
<li class="fn"><b><b><a href="qml-visualdatamodel.html#parentModelIndex-method">parentModelIndex</a></b></b></li>
</ul>
<!-- $$$VisualDataModel-description -->
<a name="details"></a>
<h2>Detailed Description</h2>
<p>A VisualDataModel encapsulates a model and the delegate that will be instantiated for items in the model.</p>
<p>It is usually not necessary to create VisualDataModel elements. However, it can be useful for manipulating and accessing the <a href="qml-visualdatamodel.html#modelIndex-method">modelIndex</a> when a <a href="qabstractitemmodel.html">QAbstractItemModel</a> subclass is used as the model. Also, VisualDataModel is used together with <a href="qml-package.html">Package</a> to provide delegates to multiple views.</p>
<p>The example below illustrates using a VisualDataModel with a <a href="qml-listview.html">ListView</a>.</p>
<pre class="highlightedCode brush: cpp"> import QtQuick 1.0

 Rectangle {
     width: 200; height: 100

     VisualDataModel {
         id: visualModel
         model: ListModel {
             ListElement { name: &quot;Apple&quot; }
             ListElement { name: &quot;Orange&quot; }
         }
         delegate: Rectangle {
             height: 25
             width: 100
             Text { text: &quot;Name: &quot; + name}
         }
     }

     ListView {
         anchors.fill: parent
         model: visualModel
     }
 }</pre>
<!-- @@@VisualDataModel -->
<h2>Property Documentation</h2>
<!-- $$$delegate -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlPropNode"><p><a name="delegate-prop"></a>delegate : <a href="qml-component.html">Component</a></td></tr></table></div><div class="qmldoc"><p>The delegate provides a template defining each item instantiated by a view. The index is exposed as an accessible <tt>index</tt> property. Properties of the model are also available depending upon the type of <a href="qdeclarativemodels.html#qmlmodels">Data Model</a>.</p>
</div></div><!-- @@@delegate -->
<br/>
<!-- $$$model -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlPropNode"><p><a name="model-prop"></a>model : model</td></tr></table></div><div class="qmldoc"><p>This property holds the model providing data for the <a href="qml-visualdatamodel.html">VisualDataModel</a>.</p>
<p>The model provides a set of data that is used to create the items for a view. For large or dynamic datasets the model is usually provided by a C++ model object. The C++ model object must be a <a href="qabstractitemmodel.html">QAbstractItemModel</a> subclass or a simple list.</p>
<p>Models can also be created directly in QML, using a <a href="qml-listmodel.html">ListModel</a> or <a href="qml-xmllistmodel.html">XmlListModel</a>.</p>
<p>See also <a href="qdeclarativemodels.html#qmlmodels">Data Models</a>.</p>
</div></div><!-- @@@model -->
<br/>
<!-- $$$parts -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlPropNode"><p><a name="parts-prop"></a><span class="qmlreadonly">read-only</span>parts : object</td></tr></table></div><div class="qmldoc"><p>The <i>parts</i> property selects a <a href="qml-visualdatamodel.html">VisualDataModel</a> which creates delegates from the part named. This is used in conjunction with the <a href="qml-package.html">Package</a> element.</p>
<p>For example, the code below selects a model which creates delegates named <i>list</i> from a <a href="qml-package.html">Package</a>:</p>
<pre class="highlightedCode brush: cpp"> VisualDataModel {
     id: visualModel
     delegate: Package {
         Item { Package.name: &quot;list&quot; }
     }
     model: myModel
 }

 ListView {
     width: 200; height:200
     model: visualModel.parts.list
 }</pre>
<p>See also <a href="qml-package.html">Package</a>.</p>
</div></div><!-- @@@parts -->
<br/>
<!-- $$$rootIndex -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlPropNode"><p><a name="rootIndex-prop"></a>rootIndex : <a href="qmodelindex.html">QModelIndex</a></td></tr></table></div><div class="qmldoc"><p><a href="qabstractitemmodel.html">QAbstractItemModel</a> provides a hierarchical tree of data, whereas QML only operates on list data. <tt>rootIndex</tt> allows the children of any node in a <a href="qabstractitemmodel.html">QAbstractItemModel</a> to be provided by this model.</p>
<p>This property only affects models of type <a href="qabstractitemmodel.html">QAbstractItemModel</a>.</p>
<p>For example, here is a simple interactive file system browser. When a directory name is clicked, the view's <tt>rootIndex</tt> is set to the <a href="qmodelindex.html">QModelIndex</a> node of the clicked directory, thus updating the view to show the new directory's contents.</p>
<p><tt>main.cpp</tt>:</p>
<pre class="highlightedCode brush: cpp"> int main(int argc, char ** argv)
 {
     QApplication app(argc, argv);

     QDeclarativeView view;

     QDirModel model;
     view.rootContext()-&gt;setContextProperty(&quot;dirModel&quot;, &amp;model);

     view.setSource(QUrl::fromLocalFile(&quot;view.qml&quot;));
     view.show();

     return app.exec();
 }</pre>
<p><tt>view.qml</tt>:</p>
<pre class="highlightedCode brush: cpp"> import QtQuick 1.0

 ListView {
     id: view
     width: 300
     height: 400

     model: VisualDataModel {
         model: dirModel

         delegate: Rectangle {
             width: 200; height: 25
             Text { text: filePath }

             MouseArea {
                 anchors.fill: parent
                 onClicked: {
                     if (model.hasModelChildren)
                         view.model.rootIndex = view.model.modelIndex(index)
                 }
             }
         }
     }
 }</pre>
<p>If the <a href="qml-visualdatamodel.html#model-prop">model</a> is a <a href="qabstractitemmodel.html">QAbstractItemModel</a> subclass, the delegate can also reference a <tt>hasModelChildren</tt> property (optionally qualified by a <i>model</i>. prefix) that indicates whether the delegate's model item has any child nodes.</p>
<p>See also <a href="qml-visualdatamodel.html#modelIndex-method">modelIndex</a>() and <a href="qml-visualdatamodel.html#parentModelIndex-method">parentModelIndex</a>().</p>
</div></div><!-- @@@rootIndex -->
<br/>
<h2>Method Documentation</h2>
<!-- $$$modelIndex -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlFuncNode"><p><a name="modelIndex-method"></a><a href="qmodelindex.html">QModelIndex</a> VisualDataModel::modelIndex ( <a href="qml-int.html">int</a> <i>index</i> )</p></td></tr></table></div><div class="qmldoc"><p><a href="qabstractitemmodel.html">QAbstractItemModel</a> provides a hierarchical tree of data, whereas QML only operates on list data. This function assists in using tree models in QML.</p>
<p>Returns a <a href="qmodelindex.html">QModelIndex</a> for the specified index. This value can be assigned to <a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a>.</p>
<p>See also <a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a>.</p>
</div></div><!-- @@@modelIndex -->
<br/>
<!-- $$$parentModelIndex -->
<div class="qmlitem"><div class="qmlproto"><table class="qmlname"><tr class="odd"><td class="tblQmlFuncNode"><p><a name="parentModelIndex-method"></a><a href="qmodelindex.html">QModelIndex</a> VisualDataModel::parentModelIndex ()</p></td></tr></table></div><div class="qmldoc"><p><a href="qabstractitemmodel.html">QAbstractItemModel</a> provides a hierarchical tree of data, whereas QML only operates on list data. This function assists in using tree models in QML.</p>
<p>Returns a <a href="qmodelindex.html">QModelIndex</a> for the parent of the current <a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a>. This value can be assigned to <a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a>.</p>
<p>See also <a href="qml-visualdatamodel.html#rootIndex-prop">rootIndex</a>.</p>
</div></div><!-- @@@parentModelIndex -->
<br/>
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    </div> 
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
    <br />
    <p>
      Licensees holding valid Qt Commercial licenses may use this document in accordance with the      Qt Commercial License Agreement provided with the Software or, alternatively, in accordance      with the terms contained in a written agreement between you and Nokia.</p>
    <p>
      Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
      Free Documentation License version 1.3</a>
      as published by the Free Software Foundation.</p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback.</p> <p class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
</body>
</html>
